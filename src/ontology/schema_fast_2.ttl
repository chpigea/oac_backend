@prefix sh:   		<http://www.w3.org/ns/shacl#> .
@prefix ex:   		<http://example.org/shapes/> .
@prefix rdf:  		<http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: 		<http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:  		<http://www.w3.org/2001/XMLSchema#> .
@prefix owl:  		<http://www.w3.org/2002/07/owl#> .
@prefix crm:  		<http://www.cidoc-crm.org/cidoc-crm/> .
@prefix basecpm: 	<http://ontome.net/ns/cpm/> .
@prefix j.0: 		<http://www.cidoc-crm.org/extensions/crmsci/> . 
#@prefix crmsci: 	<http://www.ics.forth.gr/isl/CRMsci> .
@prefix base: 		<http://www.ics.forth.gr/isl/CRMinf/> .
#@prefix volipi: 	<http://data.sparna.fr/ontologies/volipi#> .
#@prefix skos: 		<http://www.w3.org/2004/02/skos/core> .
@prefix indagine: 	<http://indagine/> .


ex:S13Sample01Shape # CAMPIONE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass j.0:S13_Sample ;
	rdfs:label "Campione" ;
	sh:property [
        sh:path crm:P48_has_preferred_identifier ;
		sh:node ex:E42Identifier02Shape ;
		sh:name "ID campione" ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path crm:P2_has_type ;
        sh:node ex:E55Type04Shape ;
		sh:name "Tipo campione" ; 
        sh:maxCount 1 ;
    ] ;
	sh:property [
        sh:path j.0:O25_contains ;
        sh:node ex:S10MaterialSubstantial01Shape ;
		sh:name "Materiale prevalente" ;
		sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path basecpm:PC43i_uses ;
        sh:node ex:CP2ArchitectureWorkShape ;
		sh:name "Bene di riferimento" ;
		sh:maxCount 1 ;
    ] .

ex:S10MaterialSubstantial01Shape # MATERIALE PREVALENTE - CAMPIONE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass j.0:S10_Material_Substantial ;
	rdfs:label "Materiale" ;
    sh:property [
        sh:path crm:P2_has_type ;
        sh:node ex:E55Type08Shape ;
		sh:name "Materiale" ;
        sh:maxCount 1 ;
    ] .

ex:CP2ArchitectureWorkShape # BENE DI RIFERIMENTO
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass basecpm:CP2_Architecture_Work ;
	rdfs:label "Bene di riferimento" ;
	sh:property [
        sh:path crm:P1_is_identified_by ;
        sh:node ex:E41Appellation02Shape ;
		sh:name "Denominazione bene" ;
		sh:maxCount 1 ;
    ] .

ex:E42Identifier02Shape # ID CAMPIONE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E42_Identifier ;
	rdfs:label "ID campione" ;
	sh:property [
        sh:path indagine:id_campione ;
		sh:name "ID campione" ;
		sh:description "http://indagine/campione/$SEQ2$" ;
        sh:nodeKind sh:IRI ;
        sh:maxCount 1 ;
    ] .

ex:E41Appellation02Shape # DENOMINAZIONE BENE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E41_Appellation ;
	rdfs:label "Denominazione bene" ;
	sh:property [
		sh:path indagine:bene_di_riferimento ;
		sh:datatype xsd:string ;
        sh:name "Denominazione bene" ;
		sh:maxCount 1 ;
    ] .
	
ex:E55Type04Shape # TIPO CAMPIONE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E55_Type ;
	rdfs:label "Tipo campione" ;
    sh:property [
		sh:path indagine:tipo_campione ;
		sh:class owl:Class ; # vocabolario TIPO CAMPIONE (21) id="tipo-campione"
		owl:imports <OAC_EXPOSED_PROTOCOL://OAC_EXPOSED_HOST:OAC_EXPOSED_PORT/backend/fuseki/get-vocabolary-terms/tipo-campione> ;
		sh:name "Tipo campione" ;
        sh:maxCount 1 ;
    ] .

ex:E55Type08Shape # TIPO MATERIALE (in CAMPIONE, SOTTOCAMPIONE, ELEMENTO COSTRUTTIVO, ...)
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E55_Type ;
	rdfs:label "Tipo materiale" ;
    sh:property [
		sh:path indagine:materiale ;
		sh:class owl:Class ; # vocabolario TIPO MATERIALE (11) id="materiale"
		owl:imports <OAC_EXPOSED_PROTOCOL://OAC_EXPOSED_HOST:OAC_EXPOSED_PORT/backend/fuseki/get-vocabolary-terms/materiale> ;
		sh:name "Tipo materiale" ;
        sh:maxCount 1 ;
    ] .


