@prefix sh:   		<http://www.w3.org/ns/shacl#> .
@prefix ex:   		<http://example.org/shapes/> .
@prefix rdf:  		<http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: 		<http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:  		<http://www.w3.org/2001/XMLSchema#> .
@prefix owl:  		<http://www.w3.org/2002/07/owl#> .
@prefix crm:  		<http://www.cidoc-crm.org/cidoc-crm/> .
@prefix basecpm: 	<http://ontome.net/ns/cpm/> .
@prefix j.0: 		<http://www.cidoc-crm.org/extensions/crmsci/> . 
#@prefix crmsci: 	<http://www.ics.forth.gr/isl/CRMsci> .
@prefix base: 		<http://www.ics.forth.gr/isl/CRMinf/> .
#@prefix volipi: 	<http://data.sparna.fr/ontologies/volipi#> .
#@prefix skos: 		<http://www.w3.org/2004/02/skos/core> .
@prefix indagine: 	<http://indagine/> .


ex:E7Activity01Shape # INDAGINE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E7_Activity ;
	rdfs:label "Indagine" ;
	#volipi:iconName "fa-solid fa-car" ;
    #sh:description "Indagine" ;
    sh:property [
        sh:path crm:P16_used_specific_object ;
        sh:node ex:S13Sample01Shape ;
		sh:name "Campione" ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path crm:P134_continued ;
        sh:node ex:E7Activity02Shape ;
		sh:name "Attività diagnostica" ;
        sh:maxCount 1 ;
    ] .

ex:E7Activity02Shape # ATTIVITA' DIAGNOSTICA
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E7_Activity ;
	rdfs:label "Attività diagnostica" ;
	sh:property [
        sh:path crm:P48_has_preferred_identifier ;
		sh:node ex:E42Identifier06Shape ;
		sh:name "ID attività diagnostica" ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path crm:P14_carried_out_by ;
        sh:node ex:E39Actor02Shape ;
		sh:name "Autore" ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path crm:P2_has_type ;
        sh:node ex:E55Type13Shape ;
		sh:name "Tecnica diagnostica" ; 
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path crm:P33_used_specific_technique ;
        sh:node ex:E29DesignorProcedure03Shape ; 
		sh:name "Procedura" ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path crm:P16_used_specific_object ; 
        sh:node ex:E70ThingShape ; 
		sh:name "Strumento" ;
        sh:maxCount 1 ;
    ] .
	
ex:E70ThingShape # STRUMENTO 
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E29_Design_or_Procedure ;
	rdfs:label "Strumento" ;
	sh:property [
        sh:path crm:P2_has_type ;
		sh:node ex:E55Type15Shape ; 
		sh:name "Strumentazione" ;
        sh:maxCount 1 ;
    ] .
	
ex:E29DesignorProcedure03Shape # PROCEDURA 
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E29_Design_or_Procedure ;
	rdfs:label "Procedura" ;
	sh:property [
        sh:path crm:P2_has_type ;
		sh:node ex:E55Type14Shape ; 
		sh:name "Modalita d'indagine" ;
        sh:maxCount 1 ;
    ] .

ex:S13Sample01Shape # CAMPIONE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass j.0:S13_Sample ;
	rdfs:label "Campione" ;
    sh:property [
        sh:path crm:P2_has_type ;
        sh:node ex:E55Type04Shape ;
		sh:name "Tipo campione" ; 
        sh:maxCount 1 ;
    ] ;
	sh:property [
        sh:path j.0:O25_contains ;
        sh:node ex:S10MaterialSubstantial01Shape ;
		sh:name "Materiale prevalente" ;
		sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path basecpm:PC43i_uses ;
        sh:node ex:CP2ArchitectureWorkShape ;
		sh:name "Bene di riferimento" ;
		sh:maxCount 1 ;
    ] .

ex:S10MaterialSubstantial01Shape # MATERIALE PREVALENTE - CAMPIONE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass j.0:S10_Material_Substantial ;
	rdfs:label "Materiale" ;
    sh:property [
        sh:path crm:P2_has_type ;
        sh:node ex:E55Type08Shape ;
		sh:name "Materiale" ;
        sh:maxCount 1 ;
    ] .

ex:CP2ArchitectureWorkShape # BENE DI RIFERIMENTO
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass basecpm:CP2_Architecture_Work ;
	rdfs:label "Bene di riferimento" ;
	sh:property [
        sh:path crm:P1_is_identified_by ;
        sh:node ex:E41Appellation02Shape ;
		sh:name "Denominazione bene" ;
		sh:maxCount 1 ;
    ] .

ex:E42Identifier06Shape # ID ATTIVITA' DIAGNOSTICA
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E42_Identifier ;
	rdfs:label "ID attività diagnostica" ;
	sh:property [
        sh:path indagine:id_attivita_diagnostica ;
		sh:name "ID attività diagnostica" ;
		sh:description "http://indagine/attivita_diagnostica/$SEQ4$" ;
        sh:nodeKind sh:IRI ;
        sh:maxCount 1 ;
    ] .

ex:E39Actor02Shape # AUTORI
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E39_Actor ;
	rdfs:label "Autori" ;
    sh:property [
        sh:path indagine:autore ;
		sh:datatype xsd:string ;
		sh:name "Autore" ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path crm:P107i_is_current_or_former_member_of ;
        sh:node ex:E74GroupShape ;
		sh:name "Ente" ;
        sh:maxCount 1 ;
    ] .

ex:E74GroupShape # ENTE AUTORE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E74_Group ;
	rdfs:label "Ente autore" ;
    sh:property [
        sh:path indagine:ente_autore ;
		sh:datatype xsd:string ;
		sh:name "Ente autore" ;
        sh:maxCount 1 ; 
    ] .
    
ex:E41Appellation02Shape # DENOMINAZIONE BENE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E41_Appellation ;
	rdfs:label "Denominazione bene" ;
	sh:property [
        sh:path indagine:denominazione_bene ;
		sh:datatype xsd:string ;
        sh:name "Denominazione" ;
		sh:maxCount 1 ;
    ] .
	
ex:E55Type04Shape # TIPO CAMPIONE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E55_Type ;
	rdfs:label "Tipo campione" ;
    sh:property [
        sh:path indagine:tipo_campione ;
		sh:class owl:Class ; # vocabolario TIPO CAMPIONE (21) id="tipo-campione"
		owl:imports <OAC_EXPOSED_PROTOCOL://OAC_EXPOSED_HOST:OAC_EXPOSED_PORT/backend/fuseki/get-vocabolary-terms/tipo-campione> ;
		sh:name "Tipo campione" ;
        sh:maxCount 1 ;
    ] .

ex:E55Type08Shape # TIPO MATERIALE (in CAMPIONE, SOTTOCAMPIONE, ELEMENTO COSTRUTTIVO, OUTPUT, ...)
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E55_Type ;
	rdfs:label "Tipo materiale" ;
    sh:property [
        sh:path indagine:tipo_materiale ;
		sh:class owl:Class ; # vocabolario TIPO MATERIALE (11) id="materiale"
		owl:imports <OAC_EXPOSED_PROTOCOL://OAC_EXPOSED_HOST:OAC_EXPOSED_PORT/backend/fuseki/get-vocabolary-terms/materiale> ;
		sh:name "Tipo materiale" ;
        sh:maxCount 1 ;
    ] .

ex:E55Type13Shape # TECNICA DIAGNOSTICA
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E55_Type ;
	rdfs:label "Tecnica diagnostica" ;
    sh:property [
        sh:path indagine:tecnica_diagnostica ;
		sh:class owl:Class ; # vocabolario TECNICA DIAGNOSTICA (20) id="tecnica-diagnostica"
		owl:imports <OAC_EXPOSED_PROTOCOL://OAC_EXPOSED_HOST:OAC_EXPOSED_PORT/backend/fuseki/get-vocabolary-terms/tecnica-diagnostica> ;
		sh:name "Tecnica diagnostica" ;
        sh:maxCount 1 ;
        sh:minCount 1 ; 
    ] .

ex:E55Type14Shape # TIPO MDALITA' INDAGINE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E55_Type ;
	rdfs:label "Tipo modalità indagine" ;
    sh:property [
        sh:path indagine:tipo_modalita_indagine ;
		sh:class owl:Class ; # vocabolario TIPO MODALITA' INDAGINE (13) id="modalita-di-indagine"
		owl:imports <OAC_EXPOSED_PROTOCOL://OAC_EXPOSED_HOST:OAC_EXPOSED_PORT/backend/fuseki/get-vocabolary-terms/modalita-di-indagine> ;
		sh:name "Tipo modalità indagine" ;
        sh:maxCount 1 ;
    ] .

ex:E55Type15Shape # TIPO STRUMENTAZIONE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E55_Type ;
	rdfs:label "Tipo strumentazione" ;
    sh:property [
        sh:path indagine:tipo_strumentazione ;
		sh:class owl:Class ; # vocabolario STRUMENTAZIONE (18) id="strumentazione"
		owl:imports <OAC_EXPOSED_PROTOCOL://OAC_EXPOSED_HOST:OAC_EXPOSED_PORT/backend/fuseki/get-vocabolary-terms/strumentazione> ;
		sh:name "Tipo strumentazione" ;
        sh:maxCount 1 ;
    ] .
