@prefix sh:   		<http://www.w3.org/ns/shacl#> .
@prefix ex:   		<http://example.org/shapes/> .
@prefix rdf:  		<http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: 		<http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:  		<http://www.w3.org/2001/XMLSchema#> .
@prefix owl:  		<http://www.w3.org/2002/07/owl#> .
@prefix crm:  		<http://www.cidoc-crm.org/cidoc-crm/> .
@prefix basecpm: 	<http://ontome.net/ns/cpm/> .
@prefix j.0: 		<http://www.cidoc-crm.org/extensions/crmsci/> . 
#@prefix crmsci: 	<http://www.ics.forth.gr/isl/CRMsci> .
@prefix base: 		<http://www.ics.forth.gr/isl/CRMinf/> .
#@prefix volipi: 	<http://data.sparna.fr/ontologies/volipi#> .
#@prefix skos: 		<http://www.w3.org/2004/02/skos/core> .
@prefix indagine: 	<http://indagine/> .


ex:E7activity01Shape # INDAGINE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E7_Activity ;
	rdfs:label "Indagine" ;
	sh:property [
        sh:path crm:P48_has_preferred_identifier ;
		sh:node ex:E42Identifier01Shape ;
		sh:name "ID indagine" ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path crm:P17_was_motivated_by ;
        sh:node ex:I12AdoptedBeliefShape ;
		sh:name "Quesito diagnostico" ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path crm:P14_carried_out_by ;
        sh:node ex:E39Actor01Shape ;
		sh:name "Attori coinvolti" ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path crm:P16_used_specific_object ;
        sh:node ex:S13Sample01Shape ;
		sh:name "Campione" ;
        sh:maxCount 1 ;
    ] .

ex:E39Actor01Shape # ATTORI
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E39_Actor ;
	rdfs:label "Attori coinvolti" ;
    sh:property [
        sh:path crm:P2_has_type ;
        sh:node ex:E55Type03Shape ;
		sh:name "Attori" ;
        sh:maxCount 1 ;
    ] .

ex:S13Sample01Shape # CAMPIONE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass j.0:S13_Sample ;
	rdfs:label "Campione" ;
    sh:property [
        sh:path crm:P2_has_type ; 
        sh:node ex:E55Type05Shape ;
		sh:name "Tipo campione" ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path basecpm:Pc43i_uses ;
        sh:node ex:CP2ArchitectureWorkShape ;
		sh:name "Bene di riferimento" ;
		sh:maxCount 1 ;
    ] .

ex:CP2ArchitectureWorkShape # BENE DI RIFERIMENTO
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass basecpm:CP2_Architecture_Work ;
	rdfs:label "Bene di riferimento" ;
	sh:property [
        sh:path crm:P1_is_identified_by ;
        sh:node ex:E41Appellation02Shape ;
		sh:name "Denominazione bene" ;
		sh:maxCount 1 ;
    ] .

ex:E42Identifier01Shape #ID INDAGINE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E42_Identifier ;
	rdfs:label "ID Indagine" ;
	sh:property [
        sh:path indagine:id_indagine ;
		sh:name "ID indagine" ;
		sh:datatype xsd:string ;
		sh:maxCount 1 ;
    ] .

ex:I12AdoptedBeliefShape # QUESITO DIAGNOSTICO
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass base:I12_Adopted_Belief ;
	rdfs:label "Quesito diagnostico" ;
    sh:property [
        sh:path crm:P2_has_type ;
        sh:node ex:E55Type02Shape ;
		sh:name "Tipo quesito diagnostico" ;
        sh:maxCount 1 ;
    ] .

ex:E41Appellation01Shape # ENTE RICHIEDENTE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E41_Appellation ;
	rdfs:label "Ente richiedente - Schedatore" ;
    sh:property [
        sh:path indagine:ente_richiedente ;
		sh:datatype xsd:string ;
		sh:name "Ente richiedente" ;
        sh:maxCount 1 ; 
    ] ;
    sh:property [
        sh:path indagine:schedatore ;
		sh:datatype xsd:string ;
		sh:name "Schedatore" ;
        sh:maxCount 1 ; 
    ] .

ex:E41Appellation02Shape # DENOMINAZIONE BENE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E41_Appellation ;
	rdfs:label "Denominazione bene" ;
	sh:property [
        sh:path indagine:bene_di_riferimento ;
		sh:datatype xsd:string ;
        sh:name "Denominazione bene" ;
		sh:maxCount 1 ;
    ] .
	
ex:E55Type02Shape # TIPO QUESITO DIAGNOSTICO
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E55_Type ;
	rdfs:label "Tipo quesito diagnostico" ;
    #volipi:iconName "fa-solid fa-car" ;
    sh:property [
        sh:path indagine:tipo_quesito_diagnostico ;
        #sh:class owl:Class ; # vocabolario QUESITO DIAGNOSTICO (8) id="quesito-diagnostico"
		#owl:imports <OAC_EXPOSED_PROTOCOL://OAC_EXPOSED_HOST:OAC_EXPOSED_PORT/backend/fuseki/get-vocabolary-terms/quesito-diagnostico> ;
		#sh:nodeKind sh:Literal;
		sh:datatype xsd:string;
        sh:name "Tipo quesito diagnostico" ;
        sh:maxCount 1 ;
    ] .

ex:E55Type03Shape # TIPOLOGIA ATTORI
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E55_Type ;
	rdfs:label "Tipo attori" ;
    sh:property [
        sh:path crm:P1_is_identified_by ;
        sh:node ex:E41Appellation01Shape ;
		sh:name "Ente richiedente - Schedatore" ;
        sh:maxCount 1 ; 
    #] ;
    #sh:property [
    #    sh:path [sh:inversePath crm:P1i_identifies] ; # usata propriet√† inversa di P1_is_defined_by ;
    #    sh:node ex:E41Appellation01bShape ;
	#	sh:name "Schedatore" ;
    #    sh:maxCount 1 ; 
    ] .

ex:E55Type05Shape # TIPO CAMPIONE
    a sh:NodeShape, rdfs:Class ;
    sh:targetClass crm:E55_Type ;
	rdfs:label "Tipo campione" ;
    sh:property [
		sh:path indagine:tipo_campione ;
		#sh:class owl:Class ; # vocabolario TIPO CAMPIONE (21) id="tipo-campione
		#sh:in ( "Tipo campione A" "Tipo campione B" ) ;
		#owl:imports <OAC_EXPOSED_PROTOCOL://OAC_EXPOSED_HOST:OAC_EXPOSED_PORT/backend/fuseki/get-vocabolary-terms/tipo-campione> ;
		#sh:nodeKind sh:Literal;
		sh:datatype xsd:string;
		sh:name "Tipo campione" ;
        sh:maxCount 1 ;
    ] .
